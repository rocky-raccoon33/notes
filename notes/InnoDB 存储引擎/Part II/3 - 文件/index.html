


    
















<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="notes and useful stuff for learning things.">
      
      
        <meta name="author" content="Maurice (morse2work@gmail.com)">
      
      
        <link rel="canonical" href="https://rocky-raccoon33.github.io/notes/notes/InnoDB%20%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/Part%20II/3%20-%20%E6%96%87%E4%BB%B6/">
      
      
        <link rel="prev" href="../../Part%20I/2%20-%20%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/">
      
      
        <link rel="next" href="../4%20-%20%E8%A1%A8/">
      
      <link rel="icon" href="../../../../favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.4">
    
    
    <title>3   文件 - level up coding</title>

    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.240905d7.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Han+Sans:300,300i,400,400i,700,700i%7CAurulent:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Source Han Sans";--md-code-font:"Aurulent"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/view-bigimg.css">
    
      <link rel="stylesheet" href="../../../../assets/extra.css">
    
      <link rel="stylesheet" href="../../../../assets/darcula.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-144Q0VJMBT"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-144Q0VJMBT",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-144Q0VJMBT",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
  

    
    
    
    
    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="3   文件 - level up coding" />
    <meta property="og:description" content=" - notes and useful stuff for learning things." />
    <meta property="og:url" content="https://rocky-raccoon33.github.io/notes/notes/InnoDB%20%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/Part%20II/3%20-%20%E6%96%87%E4%BB%B6/" />
    <meta property="og:image" content="https://rocky-raccoon33.github.io/notes/assets/banner.jpg" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="3   文件 - level up coding" />
    <meta name="twitter:description" content=" - notes and useful stuff for learning things." />
    <meta name="twitter:image" content="https://rocky-raccoon33.github.io/notes/assets/banner.jpg" />

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#3-1-参数文件" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="">
    <a href="../../../.." title="level up coding" class="md-header__button md-logo" aria-label="level up coding" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            level up coding
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3   文件
            
          </span>
        </div>
        
            <style>
                .md-header__nav {
                    float: right;
                }
                .md-header__nav__inner:not([hidden]) {
                    display: flex;
                }
            </style>
            <div class="md-header__nav">
                
                <nav class="md-header__nav__inner">
                    
                        
                        <a href="../../Part%20I/2%20-%20%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/" aria-label="Previous: 2   体系结构" rel="prev">
                            <div class="md-footer__button md-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
                            </div>
                        </a>
                    
                    
                        
                        <a href="../4%20-%20%E8%A1%A8/" aria-label="Next: 4   表" rel="next">
                            <div class="md-footer__button md-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
                            </div>
                        </a>
                    
                </nav>
            </div>
        
    </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="dracula" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../.." class="md-tabs__link">
      About me
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../blog/" class="md-tabs__link">
        Blog
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../" class="md-tabs__link md-tabs__link--active">
        Notes
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../tags/" class="md-tabs__link">
        Tags
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
    
    

    <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
        <div class="md-sidebar__scrollwrap">
            <div class="md-sidebar__inner">
                

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="level up coding" class="md-nav__button md-logo" aria-label="level up coding" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>

    </a>
    level up coding
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        About me
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../blog/">Blog</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Blog" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Blog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/" class="md-nav__link">
        最新发布
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2">
          Posts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Posts" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Posts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_1" type="checkbox" id="__nav_2_2_1" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_1">
          Redis
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Redis" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_1">
          <span class="md-nav__icon md-icon"></span>
          Redis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/Redis/Cache%20%E4%B8%AD%E7%9A%84%E9%97%AE%E9%A2%98/" class="md-nav__link">
        Cache 中的问题
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_2" type="checkbox" id="__nav_2_2_2" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_2">
          Web
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Web" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_2">
          <span class="md-nav__icon md-icon"></span>
          Web
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_2_1" type="checkbox" id="__nav_2_2_2_1" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_2_1">
          Java
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Java" data-md-level="4">
        <label class="md-nav__title" for="__nav_2_2_2_1">
          <span class="md-nav__icon md-icon"></span>
          Java
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/Web/Java/JVM%20%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84/" class="md-nav__link">
        JVM 内存结构
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/Web/Java/Java%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        Java 多线程编程
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_2_2" type="checkbox" id="__nav_2_2_2_2" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_2_2">
          Spring
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Spring" data-md-level="4">
        <label class="md-nav__title" for="__nav_2_2_2_2">
          <span class="md-nav__icon md-icon"></span>
          Spring
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/Web/Spring/Spring%20Ioc/" class="md-nav__link">
        Ioc 容器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/Web/Spring/Spring%20MVC/" class="md-nav__link">
        Spring Web MVC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/Web/Spring/Spring%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E5%8A%A1/" class="md-nav__link">
        Spring 事务管理
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_2_3" type="checkbox" id="__nav_2_2_2_3" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_2_3">
          微服务
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="微服务" data-md-level="4">
        <label class="md-nav__title" for="__nav_2_2_2_3">
          <span class="md-nav__icon md-icon"></span>
          微服务
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/Web/%E5%BE%AE%E6%9C%8D%E5%8A%A1/2PC%20%26%203PC/" class="md-nav__link">
        2PC & 3PC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/Web/%E5%BE%AE%E6%9C%8D%E5%8A%A1/CAP%20%26%20BASE/" class="md-nav__link">
        CAP && BASE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/Web/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="md-nav__link">
        微服务架构设计模式
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_2_4" type="checkbox" id="__nav_2_2_2_4" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_2_4">
          消息队列
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="消息队列" data-md-level="4">
        <label class="md-nav__title" for="__nav_2_2_2_4">
          <span class="md-nav__icon md-icon"></span>
          消息队列
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/Web/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/Kafka%20%E9%AB%98%E6%80%A7%E8%83%BD%E7%9A%84%E5%AE%9E%E7%8E%B0/" class="md-nav__link">
        kafka 高性能的实现
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_2_5" type="checkbox" id="__nav_2_2_2_5" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_2_5">
          设计模式
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="设计模式" data-md-level="4">
        <label class="md-nav__title" for="__nav_2_2_2_5">
          <span class="md-nav__icon md-icon"></span>
          设计模式
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/Web/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/" class="md-nav__link">
        设计原则
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_3" type="checkbox" id="__nav_2_2_3" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_3">
          数据结构与算法
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="数据结构与算法" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_3">
          <span class="md-nav__icon md-icon"></span>
          数据结构与算法
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/heap/" class="md-nav__link">
        堆（heap）的实现
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/lru/" class="md-nav__link">
        LRU cache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" class="md-nav__link">
        排序算法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%9C%80%E7%9F%AD%E6%91%98%E8%A6%81/" class="md-nav__link">
        最短摘要的生成
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_3_5" type="checkbox" id="__nav_2_2_3_5" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_3_5">
          一致性算法
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="一致性算法" data-md-level="4">
        <label class="md-nav__title" for="__nav_2_2_3_5">
          <span class="md-nav__icon md-icon"></span>
          一致性算法
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E4%B8%80%E8%87%B4%E6%80%A7%E7%AE%97%E6%B3%95/consistent%20hashing/" class="md-nav__link">
        Consistent hashing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E4%B8%80%E8%87%B4%E6%80%A7%E7%AE%97%E6%B3%95/paxos/" class="md-nav__link">
        Paxos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E4%B8%80%E8%87%B4%E6%80%A7%E7%AE%97%E6%B3%95/raft/" class="md-nav__link">
        Raft
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../">Notes</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Notes" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../" class="md-nav__link">
        最近阅读
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">InnoDB 存储引擎</a>
          
            <label for="__nav_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="InnoDB 存储引擎" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          InnoDB 存储引擎
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        InnoDB 存储引擎
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_2" type="checkbox" id="__nav_3_2_2" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2_2">
          Part I
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Part I" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_2_2">
          <span class="md-nav__icon md-icon"></span>
          Part I
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Part%20I/1%20-%20%E4%BB%8B%E7%BB%8D/" class="md-nav__link">
        1   介绍
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Part%20I/2%20-%20%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/" class="md-nav__link">
        2   体系结构
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_3" type="checkbox" id="__nav_3_2_3" checked>
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2_3">
          Part II
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Part II" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_2_3">
          <span class="md-nav__icon md-icon"></span>
          Part II
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc" checked
        onchange='(function(){
          var _pid = "__nav_3_2_3_1".slice(0, -2);
          var _pel = document.getElementById(_pid);
          _pel.checked  = false;
        })()'
      >
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          3   文件
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        3   文件
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#3-1-参数文件" class="md-nav__link">
    3-1 参数文件
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-2-日志文件" class="md-nav__link">
    3-2 日志文件
  </a>
  
    <nav class="md-nav" aria-label="3-2 日志文件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#错误日志" class="md-nav__link">
    错误日志
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#慢查询日志" class="md-nav__link">
    慢查询日志
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#查询日志" class="md-nav__link">
    查询日志
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#二进制日志" class="md-nav__link">
    二进制日志
  </a>
  
    <nav class="md-nav" aria-label="二进制日志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#使用场景" class="md-nav__link">
    使用场景
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#文件记录模式" class="md-nav__link">
    文件记录模式
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#写入机制" class="md-nav__link">
    写入机制
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#和-redo-log-区别" class="md-nav__link">
    和 redo log 区别
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-3-存储引擎文件" class="md-nav__link">
    3-3 存储引擎文件
  </a>
  
    <nav class="md-nav" aria-label="3-3 存储引擎文件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#表空间文件" class="md-nav__link">
    表空间文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redo-log" class="md-nav__link">
    redo log
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#undo-log" class="md-nav__link">
    undo log
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4%20-%20%E8%A1%A8/" class="md-nav__link">
        4   表
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_4" type="checkbox" id="__nav_3_2_4" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2_4">
          Part III
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Part III" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_2_4">
          <span class="md-nav__icon md-icon"></span>
          Part III
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Part%20III/5%20-%20%E7%B4%A2%E5%BC%95/" class="md-nav__link">
        5   索引
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Part%20III/6%20-%20%E9%94%81/" class="md-nav__link">
        6   锁
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Part%20III/7%20-%20%E4%BA%8B%E5%8A%A1/" class="md-nav__link">
        7   事务
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_3">
          Operating system
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Operating system" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Operating system
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_1" type="checkbox" id="__nav_3_3_1" >
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../operating%20system/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA/">操作系统导论</a>
          
            <label for="__nav_3_3_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="操作系统导论" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_3_1">
          <span class="md-nav__icon md-icon"></span>
          操作系统导论
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operating%20system/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA/" class="md-nav__link">
        操作系统导论
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_1_2" type="checkbox" id="__nav_3_3_1_2" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_3_1_2">
          PART I 虚拟化
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="PART I 虚拟化" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_3_1_2">
          <span class="md-nav__icon md-icon"></span>
          PART I 虚拟化
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operating%20system/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA/PART%20I%20%E8%99%9A%E6%8B%9F%E5%8C%96/4-%E6%8A%BD%E8%B1%A1%EF%BC%9A%E8%BF%9B%E7%A8%8B/" class="md-nav__link">
        4 抽象：进程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operating%20system/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA/PART%20I%20%E8%99%9A%E6%8B%9F%E5%8C%96/8-%E8%B0%83%E5%BA%A6%EF%BC%9A%E5%A4%9A%E7%BA%A7%E5%8F%8D%E9%A6%88%E9%98%9F%E5%88%97/" class="md-nav__link">
        8 调度：多级反馈队列
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operating%20system/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA/PART%20I%20%E8%99%9A%E6%8B%9F%E5%8C%96/9-%E8%B0%83%E5%BA%A6%EF%BC%9A%E6%AF%94%E4%BE%8B%E4%BB%BD%E9%A2%9D/" class="md-nav__link">
        9 调度：比例份额
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operating%20system/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA/PART%20I%20%E8%99%9A%E6%8B%9F%E5%8C%96/13-%E6%8A%BD%E8%B1%A1%EF%BC%9A%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4/" class="md-nav__link">
        13 抽象：地址空间
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operating%20system/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA/PART%20I%20%E8%99%9A%E6%8B%9F%E5%8C%96/23-VAX_VMS%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        23 VAX/VMS虚拟内存系统
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_1_3" type="checkbox" id="__nav_3_3_1_3" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_3_1_3">
          PART II 并发
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="PART II 并发" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_3_1_3">
          <span class="md-nav__icon md-icon"></span>
          PART II 并发
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operating%20system/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA/PART%20II%20%E5%B9%B6%E5%8F%91/24-%E5%B9%B6%E5%8F%91%EF%BC%9A%E4%BB%8B%E7%BB%8D/" class="md-nav__link">
        24 并发：介绍
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operating%20system/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA/PART%20II%20%E5%B9%B6%E5%8F%91/28-%E9%94%81/" class="md-nav__link">
        28 锁
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operating%20system/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA/PART%20II%20%E5%B9%B6%E5%8F%91/29-%E5%9F%BA%E4%BA%8E%E9%94%81%E7%9A%84%E5%B9%B6%E5%8F%91%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="md-nav__link">
        29 基于锁的并发数据结构
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../tags/">Tags</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Tags" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Tags
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tags/" class="md-nav__link">
        Tags
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>

                
                
                    <br>
                    <br>
                    <div class="tag-cloud-nav">
                        





  

  

  

  
    
    
      
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
        
        
          
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
        
        
          
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
            
            
            
          
        
        
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
            
            
            
          
        
        
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
        
        
        
          
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
        
          
          
        
        
        
          
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
            
            
            
          
        
        
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
        
        
          
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
        
        
          
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
        
        
          
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
            
            
            
          
        
        
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
        
        
          
        
      
    
  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
            
            
            
          
        
        
        
      
    
  

  

  

  

  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
        
        
          
        
      
    
  

  

  

  

  

  

  

  

  
    
    
      
        
        
        
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
        
        
          
        
      
    
  

  

  

  

  

  

  

  

  

  


<style>
    .tag-cloud {
        margin-top:0;
        margin-bottom: 0.5em;
    }
    .tag-cloud-content {
        padding: 0 0.6rem;
        
    }
</style>

<p class="md-nav tag-cloud">
  <label class="md-nav__title">Tag cloud</label>
</p>
<div class="tag-cloud-content">
    
        
            
            
            
            <a class="tag" href="https://rocky-raccoon33.github.io/notes/tags/#JVM">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.55rem;
                    
                    color:DarkGoldenrod;
                ">JVM&nbsp;
                </span>
                <!--<sup class="tag-count">1</sup>-->
            </a>
        
            
            
            
            <a class="tag" href="https://rocky-raccoon33.github.io/notes/tags/#Java">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.55rem;
                    
                    color:DarkGreen;
                ">Java&nbsp;
                </span>
                <!--<sup class="tag-count">1</sup>-->
            </a>
        
            
            
            
            <a class="tag" href="https://rocky-raccoon33.github.io/notes/tags/#Spring">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.65rem;
                    
                    color:DarkOliveGreen;
                ">Spring&nbsp;
                </span>
                <!--<sup class="tag-count">3</sup>-->
            </a>
        
            
            
            
            <a class="tag" href="https://rocky-raccoon33.github.io/notes/tags/#XA协议">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.55rem;
                    
                    color:DarkCyan;
                ">XA协议&nbsp;
                </span>
                <!--<sup class="tag-count">1</sup>-->
            </a>
        
            
            
            
            <a class="tag" href="https://rocky-raccoon33.github.io/notes/tags/#分布式技术">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.6rem;
                    
                    color:DarkTurquoise;
                ">分布式技术&nbsp;
                </span>
                <!--<sup class="tag-count">2</sup>-->
            </a>
        
            
            
            
            <a class="tag" href="https://rocky-raccoon33.github.io/notes/tags/#消息队列">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.55rem;
                    
                    color:DarkBlue;
                ">消息队列&nbsp;
                </span>
                <!--<sup class="tag-count">1</sup>-->
            </a>
        
            
            
            
            <a class="tag" href="https://rocky-raccoon33.github.io/notes/tags/#系统设计">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.55rem;
                    
                    color:DarkMagenta;
                ">系统设计&nbsp;
                </span>
                <!--<sup class="tag-count">1</sup>-->
            </a>
        
            
            
            
            <a class="tag" href="https://rocky-raccoon33.github.io/notes/tags/#数据结构">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.6rem;
                    
                    color:DarkViolet;
                ">数据结构&nbsp;
                </span>
                <!--<sup class="tag-count">2</sup>-->
            </a>
        
            
            
            
            <a class="tag" href="https://rocky-raccoon33.github.io/notes/tags/#算法">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.6rem;
                    
                    color:DarkSlateBlue;
                ">算法&nbsp;
                </span>
                <!--<sup class="tag-count">2</sup>-->
            </a>
        
            
            
            
            <a class="tag" href="https://rocky-raccoon33.github.io/notes/tags/#mysql">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.55rem;
                    
                    color:DarkOrchid;
                ">mysql&nbsp;
                </span>
                <!--<sup class="tag-count">1</sup>-->
            </a>
        
            
            
            
            <a class="tag" href="https://rocky-raccoon33.github.io/notes/tags/#Operating System">
                <span class="tag-name" style="
                    
                        
                    
                        font-size:0.55rem;
                    
                    color:DarkSlateGray;
                ">Operating System&nbsp;
                </span>
                <!--<sup class="tag-count">1</sup>-->
            </a>
        
    
</div>
                    </div>
                
            </div>
        </div>
    </div>



    

    <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
        <div class="md-sidebar__scrollwrap">
            <div class="md-sidebar__inner">
                
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#3-1-参数文件" class="md-nav__link">
    3-1 参数文件
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-2-日志文件" class="md-nav__link">
    3-2 日志文件
  </a>
  
    <nav class="md-nav" aria-label="3-2 日志文件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#错误日志" class="md-nav__link">
    错误日志
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#慢查询日志" class="md-nav__link">
    慢查询日志
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#查询日志" class="md-nav__link">
    查询日志
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#二进制日志" class="md-nav__link">
    二进制日志
  </a>
  
    <nav class="md-nav" aria-label="二进制日志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#使用场景" class="md-nav__link">
    使用场景
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#文件记录模式" class="md-nav__link">
    文件记录模式
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#写入机制" class="md-nav__link">
    写入机制
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#和-redo-log-区别" class="md-nav__link">
    和 redo log 区别
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-3-存储引擎文件" class="md-nav__link">
    3-3 存储引擎文件
  </a>
  
    <nav class="md-nav" aria-label="3-3 存储引擎文件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#表空间文件" class="md-nav__link">
    表空间文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redo-log" class="md-nav__link">
    redo log
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#undo-log" class="md-nav__link">
    undo log
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                

                
                
            </div>
        </div>
    </div>


          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
    



<style>
    .md-typeset .cover {
        margin-bottom: 1em;
    }

    .md-typeset .page-category {
        color: gray;
        font-size: large;
    }

    .md-typeset .page-title {
        margin-left: -0.0625em;
        font-size: 1.8em;
        position: relative;
        display: inline;
        transform: translate(-50%, -50%);
        background-image: linear-gradient(gold, gold);
        background-size: 100% 10px;
        background-repeat: no-repeat;
        background-position: 100% 0%;
        transition: background-size .7s, background-position .5s ease-in-out;
    }

    .md-typeset .page-title:hover {
        background-size: 100% 100%;
        background-position: 0% 100%;
        transition: background-position .7s, background-size .5s ease-in-out;
    }

    .md-typeset .page-extra {
        color: gray;
        font-size: small;
    }

    .md-typeset .page-tags {
        margin: 0;
    }

    .md-typeset .page-date {
        margin: 0;
        text-align: end;
    }

    @media print {
        .md-typeset .cover {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .md-typeset .cover+* {
            margin-top: 0;
        }
    }
</style>

<div class="cover">
    
    

    
    <h1 class="page-title"> 3   文件 </h1>

    
    

    
    <div class="page-extra row">
        <div class="col">
            

        </div>
        <div class="col">
            <p class="page-date">
                <span>
                    
                    Last update:
                    2023-03-28
                    
                </span>
            </p>
        </div>
    </div>
    
</div>

<hr class="screen-only">


<style>
    .md-typeset .toc {
        display: none;
    }
    .md-typeset .toc label {
        display: none;
    }
    .md-typeset .toc .md-nav {
        font-size: unset;
        line-height: 1.6;
    }
    .md-typeset .toc .md-nav--secondary {
        margin-left: -2em;
    }
    .md-typeset .toc .md-nav__list {
        margin: 0;
    }
    .md-typeset .toc ul {
        list-style: none;
    }
    @media print {
        .md-typeset .toc {
            display: block;
            page-break-after: always;
        }
        .md-typeset .toc .md-nav__link {
            color: var(--md-typeset-a-color);
        }
        .md-typeset .toc .md-nav__link.md-nav__link--active {
            font-weight: unset;
        }
        .md-typeset .toc + * {
            margin-top: 0;
        }
    }
</style>

<div class="toc">
    <h2>Table of Content</h2>
    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#3-1-参数文件" class="md-nav__link">
    3-1 参数文件
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-2-日志文件" class="md-nav__link">
    3-2 日志文件
  </a>
  
    <nav class="md-nav" aria-label="3-2 日志文件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#错误日志" class="md-nav__link">
    错误日志
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#慢查询日志" class="md-nav__link">
    慢查询日志
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#查询日志" class="md-nav__link">
    查询日志
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#二进制日志" class="md-nav__link">
    二进制日志
  </a>
  
    <nav class="md-nav" aria-label="二进制日志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#使用场景" class="md-nav__link">
    使用场景
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#文件记录模式" class="md-nav__link">
    文件记录模式
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#写入机制" class="md-nav__link">
    写入机制
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#和-redo-log-区别" class="md-nav__link">
    和 redo log 区别
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-3-存储引擎文件" class="md-nav__link">
    3-3 存储引擎文件
  </a>
  
    <nav class="md-nav" aria-label="3-3 存储引擎文件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#表空间文件" class="md-nav__link">
    表空间文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redo-log" class="md-nav__link">
    redo log
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#undo-log" class="md-nav__link">
    undo log
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
</div>



    
    <p><img alt="" src="../img/%E5%86%99%E6%B5%81%E7%A8%8B.png" /></p>
<h2 id="3-1-参数文件">3-1 参数文件<a class="headerlink" href="#3-1-参数文件" title="Permanent link">#</a></h2>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-0-1"><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="p">;</span><span class="w"> </span><span class="c1">-- 查看所有参数</span>
</span><span id="__span-0-2"><span class="o">***************************</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="o">***************************</span>
</span><span id="__span-0-3"><span class="n">Variable_name</span><span class="p">:</span><span class="w"> </span><span class="n">innodb_buffer_pool_size</span>
</span><span id="__span-0-4"><span class="w">        </span><span class="n">Value</span><span class="p">:</span><span class="w"> </span><span class="mi">134217728</span>
</span><span id="__span-0-5"><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span>
</span></code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">动态参数</label><label for="__tabbed_1_2">静态参数</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-mysql highlight"><pre><span></span><code><span id="__span-1-1"><span class="w">    </span><span class="k">Set</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">[</span><span class="k">global</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">session</span><span class="err">]</span><span class="w"> </span><span class="n">system_var_name</span><span class="o">=</span><span class="n">expr</span>
</span><span id="__span-1-2"><span class="w">    </span><span class="c1">-- 部分参数只能在 session 中修改 eg: autocommit</span>
</span><span id="__span-1-3"><span class="w">    </span><span class="c1">-- 部分参数在整个实例生命周期内生效 eg: binlog_cache_size</span>
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-mysql highlight"><pre><span></span><code><span id="__span-2-1"><span class="w">    </span><span class="c1">-- 整个MySQL实例生命周期内都不得进行更改</span>
</span><span id="__span-2-2"><span class="w">    </span><span class="c1">-- read only</span>
</span></code></pre></div>
</div>
</div>
</div>
<h2 id="3-2-日志文件">3-2 日志文件<a class="headerlink" href="#3-2-日志文件" title="Permanent link">#</a></h2>
<p><strong>常见日志类型：</strong></p>
<ul>
<li>错误日志 error log</li>
<li>二进制日志 binlog</li>
<li>慢查询日志 slow query log </li>
<li>查询日志 log</li>
</ul>
<h3 id="错误日志">错误日志<a class="headerlink" href="#错误日志" title="Permanent link">#</a></h3>
<p>记录MySQL的启动、运行、关闭过程</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-3-1"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;log_error&#39;</span><span class="err">\</span><span class="k">G</span><span class="p">;</span>
</span><span id="__span-3-2"><span class="o">***************************</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="o">***************************</span>
</span><span id="__span-3-3"><span class="n">Variable_name</span><span class="p">:</span><span class="w"> </span><span class="n">log_error</span>
</span><span id="__span-3-4"><span class="w">        </span><span class="n">Value</span><span class="p">:</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">NJXDGD02853</span><span class="p">.</span><span class="k">local</span><span class="p">.</span><span class="n">err</span>
</span><span id="__span-3-5"><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span>
</span></code></pre></div>
<p>错误日志也会记录一些警告信息或正确的信息</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-4-1">zsh<span class="w"> </span>&gt;<span class="w"> </span>nvim<span class="w"> </span>./NJXDGD02853.local.err
</span><span id="__span-4-2"><span class="m">1</span><span class="w"> </span><span class="m">2022</span>-01-07T01:44:52.6NZ<span class="w"> </span>mysqld_safe<span class="w"> </span>Logging<span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;/opt/homebrew/var/mysql/        NJXDGD02853.local.err&#39;</span>.<span class="w">                                                       </span>
</span><span id="__span-4-3"><span class="m">2</span><span class="w"> </span><span class="m">2022</span>-01-07T01:44:53.6NZ<span class="w"> </span>mysqld_safe<span class="w"> </span>Starting<span class="w"> </span>mysqld<span class="w"> </span>daemon<span class="w"> </span>with<span class="w"> </span>databases<span class="w">       </span>from<span class="w"> </span>/opt/homebrew/var/mysql<span class="w">                                                  </span>
</span><span id="__span-4-4"><span class="m">3</span><span class="w"> </span><span class="m">2022</span>-01-07T01:44:53.842230Z<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">[</span>System<span class="o">]</span><span class="w"> </span><span class="o">[</span>MY-010116<span class="o">]</span><span class="w"> </span><span class="o">[</span>Server<span class="o">]</span><span class="w"> </span>/opt/homebrew/<span class="w">      </span>opt/mysql/bin/mysqld<span class="w"> </span><span class="o">(</span>mysqld<span class="w"> </span><span class="m">8</span>.0.27<span class="o">)</span><span class="w"> </span>starting<span class="w"> </span>as<span class="w"> </span>process<span class="w"> </span><span class="m">1290</span><span class="w">                 </span>
</span><span id="__span-4-5"><span class="m">4</span><span class="w"> </span><span class="m">2022</span>-01-07T01:44:53.874722Z<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">[</span>Warning<span class="o">]</span><span class="w"> </span><span class="o">[</span>MY-010159<span class="o">]</span><span class="w"> </span><span class="o">[</span>Server<span class="o">]</span><span class="w"> </span>Setting<span class="w">            </span><span class="nv">lower_case_table_names</span><span class="o">=</span><span class="m">2</span><span class="w"> </span>because<span class="w"> </span>file<span class="w"> </span>system<span class="w"> </span><span class="k">for</span><span class="w"> </span>/opt/homebrew/var/mysql/<span class="w">       </span>is<span class="w"> </span><span class="k">case</span><span class="w"> </span>insensitive
</span><span id="__span-4-6"><span class="m">5</span><span class="w"> </span><span class="m">2022</span>-01-07T01:44:54.021718Z<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">[</span>System<span class="o">]</span><span class="w"> </span><span class="o">[</span>MY-013576<span class="o">]</span><span class="w"> </span><span class="o">[</span>InnoDB<span class="o">]</span><span class="w"> </span>InnoDB<span class="w">              </span>initialization<span class="w"> </span>has<span class="w"> </span>started.<span class="w">                                                   </span><span class="m">6</span><span class="w"> </span><span class="m">2022</span>-01-07T01:44:58.982095Z<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">[</span>System<span class="o">]</span><span class="w"> </span><span class="o">[</span>MY-013577<span class="o">]</span><span class="w"> </span><span class="o">[</span>InnoDB<span class="o">]</span><span class="w"> </span>InnoDB<span class="w">              </span>initialization<span class="w"> </span>has<span class="w"> </span>ended.
</span></code></pre></div>
<h3 id="慢查询日志">慢查询日志<a class="headerlink" href="#慢查询日志" title="Permanent link">#</a></h3>
<p>设置 <strong>slow_query_log = on</strong>, MySQL会记录运行时间 &gt; <strong>long_query_time</strong>的所有sql语句到<strong>slow-query_log_file</strong>日志文件中。</p>
<blockquote>
<p>5.1 可以查询 慢查询表 mysql.slow_log</p>
</blockquote>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-5-1"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">mysql</span><span class="p">.</span><span class="n">slow_log</span><span class="err">\</span><span class="k">G</span><span class="p">;</span>
</span><span id="__span-5-2"><span class="o">***************************</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="o">***************************</span>
</span><span id="__span-5-3"><span class="w">       </span><span class="k">Table</span><span class="p">:</span><span class="w"> </span><span class="n">slow_log</span>
</span><span id="__span-5-4"><span class="k">Create</span><span class="w"> </span><span class="k">Table</span><span class="p">:</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">slow_log</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-5-5"><span class="w">  </span><span class="n">start_time</span><span class="w"> </span><span class="k">timestamp</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span>
</span><span id="__span-5-6"><span class="w">  </span><span class="n">user_host</span><span class="w"> </span><span class="n">mediumtext</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-5-7"><span class="w">  </span><span class="n">query_time</span><span class="w"> </span><span class="k">time</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-5-8"><span class="w">  </span><span class="n">lock_time</span><span class="w"> </span><span class="k">time</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-5-9"><span class="w">  </span><span class="n">rows_sent</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-5-10"><span class="w">  </span><span class="n">rows_examined</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-5-11"><span class="w">  </span><span class="n">db</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">512</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-5-12"><span class="w">  </span><span class="n">last_insert_id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-5-13"><span class="w">  </span><span class="n">insert_id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-5-14"><span class="w">  </span><span class="n">server_id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-5-15"><span class="w">  </span><span class="n">sql_text</span><span class="w"> </span><span class="n">mediumblob</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</span><span id="__span-5-16"><span class="w">  </span><span class="n">thread_id</span><span class="w"> </span><span class="nb">bigint</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
</span><span id="__span-5-17"><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">CSV</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb3</span><span class="w"> </span><span class="k">COMMENT</span><span class="o">=</span><span class="s1">&#39;Slow log&#39;</span>
</span><span id="__span-5-18"><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span>
</span><span id="__span-5-19">
</span><span id="__span-5-20"><span class="c1">-- 设置慢查询输出格式 log_output=TABLE</span>
</span><span id="__span-5-21">
</span><span id="__span-5-22"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">log_output</span><span class="o">=</span><span class="s1">&#39;TABLE&#39;</span><span class="p">;</span>
</span><span id="__span-5-23"><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span>
</span><span id="__span-5-24">
</span><span id="__span-5-25"><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">slow_log</span><span class="p">;</span>
</span><span id="__span-5-26"><span class="p">...</span>
</span></code></pre></div>
<h3 id="查询日志">查询日志<a class="headerlink" href="#查询日志" title="Permanent link">#</a></h3>
<p>记录所有对Mysql数据库请求的信息</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-6-1"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;general%&#39;</span><span class="err">\</span><span class="k">G</span><span class="p">;</span>
</span><span id="__span-6-2"><span class="o">***************************</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="o">***************************</span>
</span><span id="__span-6-3"><span class="n">Variable_name</span><span class="p">:</span><span class="w"> </span><span class="n">general_log</span>
</span><span id="__span-6-4"><span class="w">        </span><span class="n">Value</span><span class="p">:</span><span class="w"> </span><span class="k">OFF</span>
</span><span id="__span-6-5"><span class="o">***************************</span><span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="o">***************************</span>
</span><span id="__span-6-6"><span class="n">Variable_name</span><span class="p">:</span><span class="w"> </span><span class="n">general_log_file</span>
</span><span id="__span-6-7"><span class="w">        </span><span class="n">Value</span><span class="p">:</span><span class="w"> </span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">homebrew</span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">mysql</span><span class="o">/</span><span class="n">NJXDGD02853</span><span class="p">.</span><span class="n">log</span>
</span><span id="__span-6-8"><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span>
</span><span id="__span-6-9">
</span><span id="__span-6-10"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">general_log</span><span class="o">=</span><span class="k">ON</span><span class="p">;</span>
</span><span id="__span-6-11"><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span>
</span><span id="__span-6-12">
</span><span id="__span-6-13">
</span><span id="__span-6-14"><span class="w"> </span><span class="n">shell</span>
</span><span id="__span-6-15"><span class="n">zsh</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">nvim</span><span class="w"> </span><span class="n">NJXDGD02853</span><span class="p">.</span><span class="n">log</span>
</span><span id="__span-6-16"><span class="mi">1</span><span class="w"> </span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">homebrew</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">mysql</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">mysqld</span><span class="p">,</span><span class="w"> </span><span class="k">Version</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">29</span><span class="w"> </span><span class="p">(</span><span class="n">Homebrew</span><span class="p">).</span><span class="w"> </span><span class="n">started</span><span class="w">         </span><span class="k">with</span><span class="p">:</span>
</span><span id="__span-6-17"><span class="mi">2</span><span class="w"> </span><span class="n">Tcp</span><span class="w"> </span><span class="n">port</span><span class="p">:</span><span class="w"> </span><span class="mi">3306</span><span class="w">  </span><span class="n">Unix</span><span class="w"> </span><span class="n">socket</span><span class="p">:</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">mysql</span><span class="p">.</span><span class="n">sock</span>
</span><span id="__span-6-18"><span class="mi">3</span><span class="w"> </span><span class="k">Time</span><span class="w">                 </span><span class="n">Id</span><span class="w"> </span><span class="n">Command</span><span class="w">    </span><span class="n">Argument</span>
</span></code></pre></div>
<h3 id="二进制日志">二进制日志<a class="headerlink" href="#二进制日志" title="Permanent link">#</a></h3>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<ul>
<li>Mysql server 的功能，是记录所有数据库表结构变更以及表数据修改的binary log</li>
<li>不会记录SELECT和SHOW这类操作</li>
<li>以事件形式记录，还包含语句所执行的消耗时间。</li>
</ul>
</div>
<h4 id="使用场景">使用场景<a class="headerlink" href="#使用场景" title="Permanent link">#</a></h4>
<ul>
<li>主从复制：在主库中开启Binlog功能，从库通过Binlog实现数据恢复达到主从数据一致性</li>
<li>数据恢复：通过mysqlbinlog工具来恢复数据</li>
</ul>
<h4 id="文件记录模式">文件记录模式<a class="headerlink" href="#文件记录模式" title="Permanent link">#</a></h4>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">ROW</label><label for="__tabbed_2_2">STATEMENT</label><label for="__tabbed_2_3">MIXED</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>记录每一行数据被修改的情况<ul>
<li>优点：完全实现主从数据同步和数据的恢复</li>
<li>缺点：批量操作会产生大量日志，alter table会让日志暴涨</li>
</ul>
</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>被修改数据的SQL都会记录到master的Binlog中，slave会解析执行binglog中的sql语句，简称SQL语句复制。</li>
<li>优点：日志量小，减少磁盘IO，提升存储和恢复速度</li>
<li>缺点：在某些情况下会导致主从数据不一致，比如last_insert_id()、now()等函数</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>以上两种模式的混合使用，一般使用 STATEMENT 模式保存binlog</li>
<li>对于STATEMENT模式无法复制的操作使用 ROW 模式保存binlog，MySQL会根据执行的SQL语句选择写入模式。</li>
</ul>
</div>
</div>
</div>
<h4 id="写入机制">写入机制<a class="headerlink" href="#写入机制" title="Permanent link">#</a></h4>
<p>常用的log event有：Query event、Row event、Xid event等
binlog文件的内容就是各种Log event的集合</p>
<ul>
<li>根据记录模式和操作触发event事件生成log event</li>
<li>将事务执行过程中产生log event写入缓冲区，每个事务线程都有一个缓冲区</li>
<li>事务在提交阶段会将产生的log event写入到外部binlog文件中</li>
</ul>
<h4 id="和-redo-log-区别">和 redo log 区别<a class="headerlink" href="#和-redo-log-区别" title="Permanent link">#</a></h4>
<ul>
<li>Redo Log属于物理日志，记录该数据页更新状态内容，Binlog是逻辑日志，记录更新过程</li>
<li>Redo Log日志是循环写，日志空间大小是固定，Binlog是追加写入</li>
<li>Redo Log作为服务器异常宕机后事务数据自动恢复使用，Binlog可以作为主从复制和数据恢复使用</li>
</ul>
<h2 id="3-3-存储引擎文件">3-3 存储引擎文件<a class="headerlink" href="#3-3-存储引擎文件" title="Permanent link">#</a></h2>
<h3 id="表空间文件">表空间文件<a class="headerlink" href="#表空间文件" title="Permanent link">#</a></h3>
<ul>
<li>存储的数据按表空间 tablespace 进行存放</li>
<li>默认的表空间文件 <strong>ibdata1</strong></li>
</ul>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-7-1">+-----------------------+------------------------+
</span><span id="__span-7-2"><span class="p">|</span><span class="w"> </span>Variable_name<span class="w">         </span><span class="p">|</span><span class="w"> </span>Value<span class="w">                  </span><span class="p">|</span>
</span><span id="__span-7-3">+-----------------------+------------------------+
</span><span id="__span-7-4"><span class="p">|</span><span class="w"> </span>innodb_data_file_path<span class="w"> </span><span class="p">|</span><span class="w"> </span>ibdata1:12M:autoextend<span class="w"> </span><span class="p">|</span>
</span><span id="__span-7-5">+-----------------------+------------------------+
</span><span id="__span-7-6">mysql&gt;<span class="w"> </span>show<span class="w"> </span>variables<span class="w"> </span>like<span class="w"> </span><span class="s1">&#39;innodb_file_per_table&#39;</span><span class="se">\G</span><span class="p">;</span>
</span><span id="__span-7-7">***************************<span class="w"> </span><span class="m">1</span>.<span class="w"> </span>row<span class="w"> </span>***************************
</span><span id="__span-7-8">Variable_name:<span class="w"> </span>innodb_file_per_table
</span><span id="__span-7-9"><span class="w">        </span>Value:<span class="w"> </span>ON
</span><span id="__span-7-10"><span class="m">1</span><span class="w"> </span>row<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="o">(</span><span class="m">0</span>.01<span class="w"> </span>sec<span class="o">)</span>
</span></code></pre></div>
<ul>
<li>
<p>所有表的数据会存在 innodb_data_file_path 共享表空间中</p>
</li>
<li>
<p>IF <strong>innodb_file_per_table</strong> = ON 则每个表会产生一个独立表空间</p>
</li>
</ul>
<h3 id="redo-log">redo log<a class="headerlink" href="#redo-log" title="Permanent link">#</a></h3>
<ul>
<li>
<p><mark class="critic"> 定义 </mark>：位于存储引擎层的物理日志，用来记录在数据页做了什么修改的物理日志文件</p>
</li>
<li>
<p><mark class="critic"> 存在的必要性 </mark>：记录数据被修改后的样子，提供数据恢复的能力</p>
</li>
<li>
<p><mark class="critic"> WAL Write-Ahead Logging </mark>：在同步磁盘前先写日志，然后系统再根据一定的策略将日志里的记录同步到磁盘里</p>
</li>
<li>
<p><mark class="critic"> 写入时机 </mark>：每执行一条语句，会先将记录写入 redo log buffer，后续执行 commit 操作时会以一定的时机写入到 redo log 文件磁盘中（innodb_flush_log_at_trx_commit）</p>
</li>
</ul>
<p><img alt="" src="../img/redolog%E6%8E%A7%E5%88%B6%E5%8F%82%E6%95%B0.png" /></p>
<ul>
<li><mark class="critic"> 写入方式 </mark>: 循环写入</li>
</ul>
<dl>
<dd>write pos 表示当前记录的位置，随着不断写入逐渐后移。当写到 ib_logfile_3时，整个 redo log 就被写满了。
  此时更新操作就会被阻塞。系统根据 check point 标记位来擦除一些已同步到磁盘的记录</dd>
</dl>
<p><img alt="" src="../img/redolog%E5%86%99%E5%85%A5%E6%A8%A1%E5%BC%8F.png" style="width:500px;" /></p>
<h3 id="undo-log">undo log<a class="headerlink" href="#undo-log" title="Permanent link">#</a></h3>
<ul>
<li>
<p>定义: 在进行数据修改时，同时记录 undo log 相反操作的逻辑日志</p>
</li>
<li>
<p>作用: 当事务回滚时。从 undo log 中读取到对应的逻辑记录就可以进行回滚操作了。</p>
</li>
</ul>



    
    


              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  




  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.annotate", "content.tabs.link"], "search": "../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.19047be9.min.js"></script>
      
        <script src="../../../../assets/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="../../../../assets/view-bigimg.js"></script>
      
        <script src="../../../../assets/extra.js"></script>
      
    
  </body>
</html>